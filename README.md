> Copyright 2019-2021 Hewlett Packard Enterprise Development LP

# HMS Pytest/Tavern Test Image for CT Framework

In some cases, post-deploy testing within the CT framework may require tools that are not included as part of the base installation of the NCN such as Pytest, Tavern, or Robot. In such cases, the required tools should be packaged in a Docker image. For more information, see [Functional and Integration Test Guidelines](https://connect.us.cray.com/confluence/display/DST/Functional+and+Integration+Test+Guidelines).

This repository is a fork of DST's [example-harness-image](https://stash.us.cray.com/projects/DST-EXAMPLES/repos/example-harness-image/browse) repository which packages Pytest along with the Tavern API testing plugin in a Docker image for use within the CT framework. This HMS fork of the repository hardcodes specific versions of Pytest (6.1.2) and Tavern (1.12.2) that are known to work together since some versions of Pytest are not supported by Tavern -- see [Fix for new pytest version](https://github.com/taverntesting/tavern/issues/367) and the [Tavern 1.0 release](https://github.com/taverntesting/tavern/issues/495). The Docker image is used by a wrapper script called [hms-pytest](https://stash.us.cray.com/projects/HMS/repos/hms-test/browse/cmd/hms-pytest) that comes from the commands directory of the [hms-test](https://stash.us.cray.com/projects/HMS/repos/hms-test/browse) repository. On the NCN, the command `hms-pytest` behaves like Pytest except that execution occurs within a test container.
